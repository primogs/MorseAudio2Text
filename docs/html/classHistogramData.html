<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>seventythree: HistogramData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">seventythree
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classHistogramData-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HistogramData Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The histogram data class stores the data of the histogram and provide methods to add data and retrieve histogram data.  
 <a href="classHistogramData.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="HistogramData_8h_source.html">HistogramData.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a382c81f15b29a67116f3fb30d9a33b8a"><td class="memItemLeft" align="right" valign="top"><a id="a382c81f15b29a67116f3fb30d9a33b8a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a382c81f15b29a67116f3fb30d9a33b8a">HistogramData</a> (unsigned short bins=50, unsigned short length=75, double maxPeriod=0.5)</td></tr>
<tr class="memdesc:a382c81f15b29a67116f3fb30d9a33b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor of histogram data that allocates and intialize the memory for the histogram data <br /></td></tr>
<tr class="separator:a382c81f15b29a67116f3fb30d9a33b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4469655db4ea251dc664d6537ac56c5a"><td class="memItemLeft" align="right" valign="top"><a id="a4469655db4ea251dc664d6537ac56c5a"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a4469655db4ea251dc664d6537ac56c5a">~HistogramData</a> ()</td></tr>
<tr class="memdesc:a4469655db4ea251dc664d6537ac56c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor that will free the histogram data <br /></td></tr>
<tr class="separator:a4469655db4ea251dc664d6537ac56c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0639913744c2edaa4d688b22a753b6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#ae0639913744c2edaa4d688b22a753b6e">IsEnabled</a> ()</td></tr>
<tr class="memdesc:ae0639913744c2edaa4d688b22a753b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the state of the histogram  <a href="#ae0639913744c2edaa4d688b22a753b6e">More...</a><br /></td></tr>
<tr class="separator:ae0639913744c2edaa4d688b22a753b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9313f2ca9852a85fd9f7da57c40f95b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#ab9313f2ca9852a85fd9f7da57c40f95b">Add</a> (double period)</td></tr>
<tr class="memdesc:ab9313f2ca9852a85fd9f7da57c40f95b"><td class="mdescLeft">&#160;</td><td class="mdescRight">add the period and remove the oldest period from the histogram if enabled  <a href="#ab9313f2ca9852a85fd9f7da57c40f95b">More...</a><br /></td></tr>
<tr class="separator:ab9313f2ca9852a85fd9f7da57c40f95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3908c587c2e03741d4ca05f84fbc82f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#ab3908c587c2e03741d4ca05f84fbc82f">Enable</a> (bool state)</td></tr>
<tr class="memdesc:ab3908c587c2e03741d4ca05f84fbc82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the state of the histogram  <a href="#ab3908c587c2e03741d4ca05f84fbc82f">More...</a><br /></td></tr>
<tr class="separator:ab3908c587c2e03741d4ca05f84fbc82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee374cc3bab303463c9a7788b7e7b6f"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a9ee374cc3bab303463c9a7788b7e7b6f">GetBins</a> ()</td></tr>
<tr class="memdesc:a9ee374cc3bab303463c9a7788b7e7b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of histogram bins  <a href="#a9ee374cc3bab303463c9a7788b7e7b6f">More...</a><br /></td></tr>
<tr class="separator:a9ee374cc3bab303463c9a7788b7e7b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1db31342e0a70473c2ab61cc0e0f22"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a9f1db31342e0a70473c2ab61cc0e0f22">GetMaxPeriod</a> ()</td></tr>
<tr class="memdesc:a9f1db31342e0a70473c2ab61cc0e0f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximal period that is still displayed in the histogram  <a href="#a9f1db31342e0a70473c2ab61cc0e0f22">More...</a><br /></td></tr>
<tr class="separator:a9f1db31342e0a70473c2ab61cc0e0f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e967388837f909afb328f9e55da205"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a49e967388837f909afb328f9e55da205">GetHistBinCount</a> (unsigned short bin)</td></tr>
<tr class="memdesc:a49e967388837f909afb328f9e55da205"><td class="mdescLeft">&#160;</td><td class="mdescRight">to get the counts in a bin  <a href="#a49e967388837f909afb328f9e55da205">More...</a><br /></td></tr>
<tr class="separator:a49e967388837f909afb328f9e55da205"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af625e098e04198007b4d96de4ac624d1"><td class="memItemLeft" align="right" valign="top"><a id="af625e098e04198007b4d96de4ac624d1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#af625e098e04198007b4d96de4ac624d1">Init</a> ()</td></tr>
<tr class="memdesc:af625e098e04198007b4d96de4ac624d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize the histogram data. After initialization all counts are in the first bin. <br /></td></tr>
<tr class="separator:af625e098e04198007b4d96de4ac624d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38a5e6485965296d7c02f8f57a92bb5"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#af38a5e6485965296d7c02f8f57a92bb5">GetBin</a> (double period)</td></tr>
<tr class="memdesc:af38a5e6485965296d7c02f8f57a92bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">determines the bin number  <a href="#af38a5e6485965296d7c02f8f57a92bb5">More...</a><br /></td></tr>
<tr class="separator:af38a5e6485965296d7c02f8f57a92bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af2215c60a41f6ee19aaeb8be1cdd2392"><td class="memItemLeft" align="right" valign="top"><a id="af2215c60a41f6ee19aaeb8be1cdd2392"></a>
const unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#af2215c60a41f6ee19aaeb8be1cdd2392">mBins</a></td></tr>
<tr class="memdesc:af2215c60a41f6ee19aaeb8be1cdd2392"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of bins the histgram has -&gt; elements of mBinBuffer <br /></td></tr>
<tr class="separator:af2215c60a41f6ee19aaeb8be1cdd2392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf055d8f7bffe7e5e8a2c09936f8578"><td class="memItemLeft" align="right" valign="top"><a id="adbf055d8f7bffe7e5e8a2c09936f8578"></a>
const unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#adbf055d8f7bffe7e5e8a2c09936f8578">mBufferSize</a></td></tr>
<tr class="memdesc:adbf055d8f7bffe7e5e8a2c09936f8578"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of elements that are stored at once -&gt; elements in mHistogram <br /></td></tr>
<tr class="separator:adbf055d8f7bffe7e5e8a2c09936f8578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bc716ad89d0ab89c93b4174c22f1a9"><td class="memItemLeft" align="right" valign="top"><a id="a23bc716ad89d0ab89c93b4174c22f1a9"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a23bc716ad89d0ab89c93b4174c22f1a9">mMaxPeriod</a></td></tr>
<tr class="memdesc:a23bc716ad89d0ab89c93b4174c22f1a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">upper boundary of the period <br /></td></tr>
<tr class="separator:a23bc716ad89d0ab89c93b4174c22f1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc6361d2669ffd9b3df032b83a5809c"><td class="memItemLeft" align="right" valign="top"><a id="a3dc6361d2669ffd9b3df032b83a5809c"></a>
unsigned short *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a3dc6361d2669ffd9b3df032b83a5809c">mBinBuffer</a></td></tr>
<tr class="memdesc:a3dc6361d2669ffd9b3df032b83a5809c"><td class="mdescLeft">&#160;</td><td class="mdescRight">array that stores the counts for each bin <br /></td></tr>
<tr class="separator:a3dc6361d2669ffd9b3df032b83a5809c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7fbb2fcbfb82dd8030122692dbcbd1"><td class="memItemLeft" align="right" valign="top"><a id="abb7fbb2fcbfb82dd8030122692dbcbd1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#abb7fbb2fcbfb82dd8030122692dbcbd1">mIndex</a></td></tr>
<tr class="memdesc:abb7fbb2fcbfb82dd8030122692dbcbd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of the first/last element of the ring buffer mHistogram <br /></td></tr>
<tr class="separator:abb7fbb2fcbfb82dd8030122692dbcbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad41d77119ca0442b8c31f7f8122a8b"><td class="memItemLeft" align="right" valign="top"><a id="a7ad41d77119ca0442b8c31f7f8122a8b"></a>
unsigned short *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#a7ad41d77119ca0442b8c31f7f8122a8b">mHistogram</a></td></tr>
<tr class="memdesc:a7ad41d77119ca0442b8c31f7f8122a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ring buffer to realize the FIFO buffer <br /></td></tr>
<tr class="separator:a7ad41d77119ca0442b8c31f7f8122a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4405af2986dc6b78d684fd2a827d280"><td class="memItemLeft" align="right" valign="top"><a id="ac4405af2986dc6b78d684fd2a827d280"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHistogramData.html#ac4405af2986dc6b78d684fd2a827d280">mEnabled</a></td></tr>
<tr class="memdesc:ac4405af2986dc6b78d684fd2a827d280"><td class="mdescLeft">&#160;</td><td class="mdescRight">state of the histogram <br /></td></tr>
<tr class="separator:ac4405af2986dc6b78d684fd2a827d280"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The histogram data class stores the data of the histogram and provide methods to add data and retrieve histogram data. </p>
<p>The value (period) is not stored, instead it is directly assigned to a bin. The bin number is stored twice, once in a the ring buffer mHistogram and in the bin buffer mBinBuffer. The ring buffer is used to track the order of the incomming elements. In this way the elements can be removed from the histogram in the same order they come in (FIFO). The mBinBuffer is used to store the number of periods (count) that are element of the range regarding a histogram bin. This way a quick access to the counts per bin is possible.</p>
<dl class="section author"><dt>Author</dt><dd>Matthias Hund </dd></dl>
<dl class="section date"><dt>Date</dt><dd>02/20/21 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab9313f2ca9852a85fd9f7da57c40f95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9313f2ca9852a85fd9f7da57c40f95b">&#9670;&nbsp;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HistogramData::Add </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add the period and remove the oldest period from the histogram if enabled </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">period</td><td>period in seconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3908c587c2e03741d4ca05f84fbc82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3908c587c2e03741d4ca05f84fbc82f">&#9670;&nbsp;</a></span>Enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HistogramData::Enable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the state of the histogram </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>enables the histogram if true and disables the histogram if false </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af38a5e6485965296d7c02f8f57a92bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af38a5e6485965296d7c02f8f57a92bb5">&#9670;&nbsp;</a></span>GetBin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short HistogramData::GetBin </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>determines the bin number </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">period</td><td>period in seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the bin number the period belongs to. return zero if the period is out of the histogram range </dd></dl>

</div>
</div>
<a id="a9ee374cc3bab303463c9a7788b7e7b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee374cc3bab303463c9a7788b7e7b6f">&#9670;&nbsp;</a></span>GetBins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short HistogramData::GetBins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of histogram bins </p>
<dl class="section return"><dt>Returns</dt><dd>number of bins </dd></dl>

</div>
</div>
<a id="a49e967388837f909afb328f9e55da205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e967388837f909afb328f9e55da205">&#9670;&nbsp;</a></span>GetHistBinCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short HistogramData::GetHistBinCount </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>bin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>to get the counts in a bin </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bin</td><td>the number of the bin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the counts of the histogram bin or zero if the histogram is disabled or the bin number is invalid </dd></dl>

</div>
</div>
<a id="a9f1db31342e0a70473c2ab61cc0e0f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1db31342e0a70473c2ab61cc0e0f22">&#9670;&nbsp;</a></span>GetMaxPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double HistogramData::GetMaxPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximal period that is still displayed in the histogram </p>
<dl class="section return"><dt>Returns</dt><dd>period in seconds </dd></dl>

</div>
</div>
<a id="ae0639913744c2edaa4d688b22a753b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0639913744c2edaa4d688b22a753b6e">&#9670;&nbsp;</a></span>IsEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HistogramData::IsEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the state of the histogram </p>
<dl class="section return"><dt>Returns</dt><dd>true if the histogram is enabled, otherwise false </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="HistogramData_8h_source.html">HistogramData.h</a></li>
<li>HistogramData.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
